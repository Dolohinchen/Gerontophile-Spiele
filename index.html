<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Zitate Game</title>
    

  </head>
    
  <body>
  <!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Zitate Zuordnen â€” Spiel</title>
<style>
  :root{
    --bg:#0f1724;
    --card:#0b1220;
    --muted:#9aa8bf;
    --accent:#6ee7b7;
    --danger:#ff6b6b;
    --success:#58d68d;
    --glass: rgba(255,255,255,0.03);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%;margin:0;background:
    radial-gradient(ellipse at 10% 10%, rgba(46,96,255,0.06), transparent 10%),
    radial-gradient(ellipse at 90% 80%, rgba(102,51,255,0.03), transparent 10%),
    var(--bg);
    color:#e6eef8;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }
  .wrap{
    max-width:1000px;
    margin:36px auto;
    padding:24px;
    border-radius:16px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    min-height:560px;
  }
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
  header h1{font-size:20px;margin:0}
  .meta{color:var(--muted);font-size:14px}
  .game{
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:20px;
    align-items:start;
  }
  .quote-box{
    background:var(--card);
    border-radius:12px;
    padding:20px;
    min-height:220px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:flex-start;
    position:relative;
    transition:box-shadow .18s ease, transform .12s ease;
  }
  .quote-text{
    font-size:22px; line-height:1.25; margin:0 0 12px 0; white-space:pre-wrap;
  }
  .quote-author-prompt{color:var(--muted); font-size:14px}
  .drop-target{
    margin-top:12px;
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }
  .drop-zone{
    border:2px dashed rgba(255,255,255,0.06);
    padding:18px;
    border-radius:10px;
    width:100%;
    min-height:70px;
    display:flex;
    align-items:center;
    justify-content:center;
    color:var(--muted);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
  }
  .names{
    background:var(--card);
    border-radius:12px;
    padding:16px;
    height:100%;
    display:flex;
    flex-direction:column;
    gap:12px;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
  }
  .names-list{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .name-card{
    background:var(--glass);
    padding:10px 12px;
    border-radius:10px;
    cursor:grab;
    user-select:none;
    box-shadow: 0 4px 10px rgba(2,6,23,0.45);
    transition:transform .12s ease, box-shadow .12s ease;
    text-align:center;
    font-weight:600;
  }
  .name-card:active{cursor:grabbing; transform:scale(.995)}
  .controls{display:flex;gap:8px;align-items:center;margin-top:12px}
  button{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.05);
    padding:10px 14px;border-radius:10px;color:#e6eef8;font-weight:600;
    cursor:pointer;
  }
  button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
  button.primary{background:linear-gradient(90deg,var(--accent),#4fd1c5); color:#04201a;border:none}
  .scorebar{display:flex;gap:10px;align-items:center}
  .round-badge{background:rgba(255,255,255,0.03);padding:8px 10px;border-radius:999px;font-weight:700}
  .result-overlay{
    position:fixed;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);
    z-index:50;backdrop-filter:blur(4px);visibility:hidden;opacity:0;transition:opacity .18s ease, visibility .18s;
  }
  .result-overlay.show{visibility:visible;opacity:1}
  .result-card{
    background:linear-gradient(180deg,#071025, #071223);padding:26px;border-radius:14px;min-width:320px;text-align:center;
  }
 .result-card{
  background:white;
  padding:50px 36px;
  border-radius:20px;
  min-width:420px;
  text-align:center;
  box-shadow:0 10px 60px rgba(0,0,0,0.15);
}
.result-card h2{
  margin:0 0 14px 0;
  font-size:26px;
  color:#233040;
}
.result-big{
  font-size:32px;
  font-weight:800;
  color:#2b9f85;
}

  }
</style>
</head>
<body>
<div class="wrap" role="application" aria-label="Zitate Zuordnen Spiel">
  <header>
    <div>
      <h1>Zitate Zuordnen</h1>
      <div class="meta">Zieh den richtigen Namen auf das Zitat â€” 5 Runden pro Spiel</div>
    </div>
    <div class="scorebar">
      <div class="round-badge" id="roundBadge">Runde 1 / 5</div>
      <div class="round-badge" id="scoreBadge">Punkte 0</div>
    </div>
  </header>

  <main class="game">
    <section>
      <div class="quote-box" id="quoteBox" aria-live="polite">
        <div class="quote-text" id="quoteText">Lade...</div>
        <div class="quote-author-prompt muted-small">Zieh hier den Namen der Person hin, die das gesagt hat.</div>

        <div class="drop-target">
          <div class="drop-zone" id="dropZone">Ziehe hier den Namen hin</div>
        </div>

        <div class="controls">
          <button id="skipBtn" class="ghost">Ãœberspringen</button>
          <button id="newGameBtn" class="ghost">Neues Spiel</button>
        </div>
      </div>
    </section>

    <aside>
      <div class="names">
        <div class="muted-small">WÃ¤hle einen Namen und ziehe ihn auf das Zitat</div>
        <div class="names-list" id="namesList">
          <!-- Name cards werden hier erzeugt -->
        </div>
        <div class="footer">Spiel: 5 Runden â€¢ Nach jeder Antwort startet automatisch die nÃ¤chste Runde</div>
      </div>
    </aside>
  </main>
</div>

<!-- Ergebnis-Overlay -->
<div class="result-overlay" id="resultOverlay" role="dialog" aria-modal="true">
  <div class="result-card" id="resultCard">
    <h2 id="resultTitle"></h2>
    <div class="result-big" id="resultScore"></div>
    <div style="margin-top:12px">
      <button id="playAgainBtn" class="primary">Neues Spiel</button>
    </div>
  </div>
</div>
  <!-- Falschantwort-Bild -->
<div id="wrongImageOverlay" style="
  position:fixed;
  left:0; top:0; right:0; bottom:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.45);
  backdrop-filter:blur(3px);
  visibility:hidden;
  opacity:0;
  transition:opacity .18s ease;
  z-index:200;
">
  <img src="https://i.postimg.cc/mZPHVwbQ/tmok.jpg" 
       style="max-width:60%; border-radius:14px; box-shadow:0 10px 40px rgba(0,0,0,0.5);">
</div>


<script>
/* --- DATEN: Autoren und Zitate (aus deiner Datei) ---
   Die Zitate stammen aus der hochgeladenen Datei (siehe Referenz).
   Jede Kette ist exakt zugeordnet zu einem Autor.
*/
const data = [
  { author: "Pilzi", quote: "â€žHabts ihr noch nie SchnÃ¤ gesehen oder wasâ€œ" },
  { author: "Pilzi", quote: "â€žFjÃ¼nfâ€œ" },
  { author: "Pilzi", quote: "â€žHot scho jeder ADHS?â€œ" },
  { author: "Pilzi", quote: "â€žJa i bin AuslÃ¤nderâ€œ" },

  { author: "Brandl", quote: "â€žda sollen euro klingelklocken leuten so richrig so tschuuwww ding ding ding ding dingâ€¦ wuuwâ€œ" },

  { author: "Schina", quote: "â€žAchtelâ€" },
  { author: "Schina", quote: "â€œi hob a poster plakat gmocht damit zirkusse abgetrieben werdenâ€œ" },
  { author: "Schina", quote: "â€žhallo kinder, darf ich an euch lecken?â€œ" },
  { author: "Schina", quote: "â€œMei Ambros wird heid Katstriertâ€œ" },
  { author: "Schina", quote: "â€žWichtige Frage, Tender mit Milch oder Haselnuss ->Innen oder aussen ->Innen dikka ->INNENâ€œ" },
  { author: "Schina", quote: "â€žIch bin links rechts farbenblindâ€œ" },
  { author: "Schina", quote: "â€žDei Hand riecht nach Vape. LOSS MI AN DEINA HAND RIECHEN! I BIN SÃœCHTIG DANACHâ€œ" },
  { author: "Schina", quote: "â€žBro wie schmeckt batterieâ€" },
  { author: "Schina", quote: "â€œSehr geehrter FEHLERâ€" },
  { author: "Schina", quote: "â€œâ€¦I bin a nicht nichtâ€¦..Aba dann bist dus ja wiederâ€¦..Oba wir hom Jo gsogt dass a nicht des isâ€¦..Also a nicht is a schonâ€œ" },
  { author: "Schina", quote: "â€œdes hast i bin hÃ¶Ã¶h oba i was i bin hÃ¶Ã¶hâ€œ" },
  { author: "Schina", quote: "â€œDer Kaktus wird grade zum Hugooooâ€œ" },
  { author: "Schina", quote: "â€ž Inn im Riedkreisâ€œ" },
  { author: "Schina", quote: "â€žI pick im MÃ¼llâ€œ" },
  { author: "Schina", quote: "â€žDes is ka waschbecken des is a stadtâ€œ" },
  { author: "Schina", quote: "â€žmÃ¼stlâ€" },
  { author: "Schina", quote: "Geh nach NÃ¼rnberg und lass dir die Lippen nass machen" },
  { author: "Schina", quote: "Brandausfall" }, 
   { author: "Schina", quote: "ois wos hot is raucht oba ned ois wos rauchtÂ isÂ hot" },
  { author: "Schina", quote: "KopfhÃ¶hrerschwanz " },
  { author: "Schina", quote: "â€œAaaaaa meine nudellllâ€" },

  { author: "Dolo", quote: "â€œmit Stolzâ€" },
  { author: "Dolo", quote: "â€œherr titel titel titelâ€" },
  { author: "Dolo", quote: "â€žChikachakachuka Remiiiixâ€œ" },
  { author: "Dolo", quote: "â€žFlatus Maximus/Feichta Flatusâ€œ" },Â 
  { author: "Dolo", quote: "Wenn Tisch 4 ist kann man nd Tisch hoch Sessel" },
  { author: "Dolo", quote: "â€žUgo sta vendendo il cocainoâ€" },
  { author: "Dolo", quote: "â€žA U Bahn is ka StraÃŸenbahnâ€œ" },
  { author: "Dolo", quote: "â€žDES HOD KA ALPHAâ€œ" },
  { author: "Dolo", quote: "â€ž2500 Brotsteuerâ€œ" },
  { author: "Dolo", quote: "â€žmuas mei parfum verblendenâ€œ" },
  { author: "Dolo", quote: "â€žmah der opa riecht foi guadâ€œ" },
  { author: "Dolo", quote: "â€žMei status is mono, des is mei einziger statusâ€œ" },
  { author: "Dolo", quote: "â€žDarkrobert Darkâ€œ" },
  { author: "Dolo", quote: "â€žemÃ³dolÃ³â€œ" },
  { author: "Dolo", quote: "â€žÅ tefan Bondorondoâ€" },
  { author: "Dolo", quote: "â€žNach 5 Monaten ist Samstag zu Sonntag gewordenâ€œ" },
  { author: "Dolo", quote: "â€žOster Haasâ€" },
  { author: "Dolo", quote: "â€ži hob scho moi unabsichtlich wÃ¶rter in excel multipliziertâ€œ" },
  { author: "Dolo", quote: "â€ Glatzenkondomâ€œ" },
  { author: "Dolo", quote: "â€ Bitte des mid via lÃ¶ffen * aggressives stÃ¤bchen tippen*â€œ" },
  { author: "Dolo", quote: "â€žnegeR tmmok negroMâ€œ" },
  { author: "Dolo", quote: "â€žVOJAKOJAKâ€œ" },
  { author: "Dolo", quote: "â€žhÃ¤ konturierst du dei nase\n\nna?\n\naso donn host du di an strich\n\nMARIAðŸ˜¦\n\nSCHWINGTITTENðŸ«¨ðŸ˜®ðŸ˜±â€œ" },
  { author: "Dolo", quote: "â€žBUUTTERFINGUURâ€œ" },
  { author: "Dolo", quote: "Gonz zum Ernst" },
  { author: "Dolo", quote: "Brududu" },
  { author: "Dolo", quote: "So, jz geh I aufs Bett und ins Klo" },
  { author: "Dolo", quote: "Verbrannter Hund mit Butter" },
  { author: "Dolo", quote: "Erkalterung" },
  { author: "Dolo", quote: "â€žPotschischtinnen und Potschischtenâ€œ" },
  { author: "Dolo", quote: "â€žFaktor... FICK DIâ€" },
  { author: "Dolo", quote: "â€žalles klÃ¤rchen, gummibÃ¤rchenâ€œ" },
  { author: "Dolo", quote: "â€žschwedwood klingt wie balschietâ€œ" },
  { author: "Dolo", quote: "â€žDie Sahnfee hat mir Lugenkrebs gegeben, die hat neben mir feifei gerauchtâ€œ" },
  { author: "Dolo", quote: "â€ždu na du du Â»" },
  { author: "Dolo", quote: "I berÃ¼hr dei Arschloch" },
  { author: "Dolo", quote: "Ferien auf dem Bauern" },
  { author: "Dolo", quote: "I muas kurz in mÃ¼ll" },
  { author: "Dolo", quote: "Â« GasfÃ¶rmige Butter Â»" },
  { author: "Dolo", quote: "â€žN*ga-Butanâ€" },
   { author: "Dolo", quote: "des neges, dem negen" },
   { author: "Dolo", quote: "â€žN*ga-Butanâ€" },
  { author: "Dolo", quote: "des dritte weintrauben-reich" },
  { author: "Dolo", quote: "Â« McdONaLd iNsEl Â»" },

  { author: "Sli", quote: "â€œex-callou-se meâ€" },
  { author: "Sli", quote: "Â« lockeisenâ€œ" },
  { author: "Sli", quote: "â€žI miassat echt naiv sei dass i des vagiss, drum stÃ¶ I erm da Eliza vua, soi a de heiratenÂ deÂ klaneÂ huaâ€œ" },
  { author: "Sli", quote: "â€žBist-BITCHâ€œ" },  
  { author: "Sli", quote: "my english is not englishingÂ rn" },
  { author: "Sli", quote: "â€žScheidungstischeâ€œ" },
  { author: "Sli", quote: "â€žWelcome to Einsteino ASMR....I am chi chi Alberto lo ah and thissss is my taco Fernandoâ€œ" },
  { author: "Sli", quote: "â€žI hob ka \"zuletzt gelÃ¶scht\"â€œ" },

  { author: "Marier", quote: "â€žFICK DICG IN BEIDE KNIESCHEIBEN DU SCHEIS UNKRAUTâ€œ" },
  { author: "Marier", quote: "â€žSchuidigung, I bin Fischâ€œ" },
  { author: "Marier", quote:  "Oberlix kost fast nix" },
  { author: "Marier", quote: "â€žAuf meim Nawl, Nawl? NAWI! Steht, Schwibbel Schwabbel du Huansohnâ€œ" },
  { author: "Marier", quote: "â€žHawara nd lustig oida hier stinkt es nach tote nackte enteâ€œ" },
  { author: "Marier", quote: "â€žMegalondonâ€œ" },
  { author: "Marier", quote: "weggebest" },
  { author: "Marier", quote: "â€žDiese sind GesprÃ¤che viel Komfortâ€œ" },
  { author: "Marier", quote: "ich rauch spÃ¤ter meine spicker" },
  { author: "Marier", quote: "â€žAutokotrekutâ€œ" },
  { author: "Marier", quote: "â€žGleberâ€œ" },
  { author: "Marier", quote: "BeziehungsrÃ¤tzl" },
  { author: "Marier", quote: "â€žes is jo stimmtâ€œ" },
  { author: "Marier", quote: "â€žPlatsch platsch FuÃŸball klatsch fischâ€œ" },
  { author: "Marier", quote: "â€žWe have difference between moose and elk â€¦.darkâ€" },
  { author: "Marier", quote: "â€œMount Washbumâ€" },
  { author: "Marier", quote: "â€žWarum hast du Momo ersagtâ€œ" },
  { author: "Marier", quote: "â€žObwohl sandalen so fancy aber will meine Zehen nd offenbarenâ€œ" },
  { author: "Marier", quote: "â€ž Schmeckt foi muffig, I glaub er (Haas) wascht sei Unterhose nedâ€œ" },
  { author: "Marier", quote: "â€žSlaaaayyy Pepsiâ€œ" },
  { author: "Marier", quote: "â€ž Schuidigung Service, Hauptspeise is schwoazâ€œ" },
  { author: "Marier", quote: "â€ždo steht GUMâ€œ" },
  { author: "Marier", quote: "â€žIch hab meine Fingern Kurzgeschnittenâ€œ" },
  { author: "Marier", quote: "â€žKadavra Avavraâ€œ" },
  { author: "Marier", quote: "â€žIch hab deine 20 Rudolfâ€œ" },
  { author: "Marier", quote: "â€žI bin a Treppe, und es is scheiÃŸe Treppe zu seinâ€œ" },
  { author: "Marier", quote: "â€žWer hÃ¤tt ned gern Kuhmuschiâ€œ" },
  { author: "Marier", quote: "â€žHallo schuldigung, ich hab meinen Hund nackt rassiert? - a passt schon, nd so schlimmâ€" },
  { author: "Marier", quote: "â€žI versklav a manchmal Menschenâ€œ" },
  { author: "Marier", quote: "â€žGEISTLICHE FÃœRSTENâ€œ" },
  { author: "Marier", quote: "â€žPreis und Kondomepolitikâ€œ" },
  { author: "Marier", quote: "â€žWas ist Hauptstadt von NiederÃ¶sterreichâ€¦.LIECHTENSTEINâ€œ" },
  { author: "Marier", quote: "â€žDann wirst du bezeichnet Heftlosâ€œ" },
  { author: "Marier", quote: "â€žDes schaut aus wie so a Urmenschlauberâ€œ" },
  { author: "Marier", quote: "â€žWar lustige Zeit mit Albin Shabanaj aba jetzt ist es vorbei â€ž" },
  { author: "Marier", quote: "â€žDes letzte kimmt zum Schlussâ€œ" },
  { author: "Marier", quote: "â€žIch rieche wie ein Drogenâ€œ" },
  { author: "Marier", quote: "â€ Meine krÃ¤cker brÃ¤nnnnenâ€" },
  { author: "Marier", quote: "â€Was heiÃŸt Magro auf Deutsch?.... HÃ¤sslich, fett, KLEINâ€" },
  { author: "Marier", quote: "â€ Annika is des PrÃ¤fix von Alkoholâ€" },
  { author: "Marier", quote: "â€žIm dunklen...vergeeewaltigtâ€" },
  { author: "Marier", quote: "â€žSchatzi Pepsi Bebiâ€" },
  { author: "Marier", quote: "â€žSeite: Behindertâ€œ" },
  { author: "Marier", quote: "â€žDer hod foi de am....am dings *spielt mit kinn *....gleich...Einstein.....traumaaugâ€œ" },
  { author: "Marier", quote: "â€žðŸ¥°He was your first love, I intend to be your lastðŸ¥° ðŸ‘ºðŸ¦…AEREGAGEEEEðŸ‘ºðŸ¦…â€" },
  { author: "Marier", quote: "â€œI sammle grod mei Spucke I konn ned redenâ€" },

  { author: "Baum fÃ¤llt", quote: "â€žand so on and so fortâ€" },

  { author: "Papst", quote: "â€œajo stimmt du bist jo schwoazâ€" },
  { author: "Papst", quote: "â€žbewahrt mich vor einem abstÃ¼rzâ€œ" },
  { author: "Papst", quote: "â€žSogts afoch los oda alleopp oda soâ€" },
  { author: "Papst", quote: "â€žHAST DU JEMALS AN EINER VERSCHWÃ–RUNG GEGEN SCIENTOLOGY TEILGENOMMEN!?!?!â€œ" },

  { author: "Bela (Freund von Marias Mutter)", quote: "JUNGE DIESER NEGER HAT MIR KEINEN STROHHALM GEGEBEN" },

  { author: "Megally", quote: "â€ž#WERT muss wegâ€œ" },
  { author: "Megally", quote: "â€žMiassn wir mÃ¤nnlich weiblich und zimmernummer a markierenâ€¦Na des nedâ€¦.Ausser mÃ¤nnlich weiblichâ€¦A JO UND ZIMMERNUMMER Aâ€œ" },

  { author: "Heidlbeere", quote: "â€žnimm zwei, zahl dreiâ€œ" },
  { author: "Heidlbeere", quote: "â€ža neues Baby des ma aufn Markt bringenâ€œ" },
  { author: "Heidlbeere", quote: "â€žich trau nicht einmal den wolkerl da obenâ€¦. den cloudsâ€œ" },
  { author: "Heidlbeere", quote: "â€žder HALLO effekt ðŸ˜„â€¦ halo.. hmm â€¦ blabla wird das gesamtbild VERSCHLEIERTâ€œ" },
  { author: "Heidlbeere", quote: "â€žIch hab eine schirche handschriftâ€¦ WEIL ICH BIN LINKSHÃ„NDERâ€œ" },
  { author: "Heidlbeere", quote: "â€žKeine E Autos ohne Kinder die in den Minen in Kongo E Autos abbauenâ€œ" },

  { author: "JAHU", quote: "Ostheopero- pore- pere- Ostheoporese. OSTHEOPOROSE" },
  { author: "JAHU", quote: "die aktivieren donn tequillaÂ zellen" },
  { author: "VizeprÃ¤sident Ottie", quote: "â€žLiebe junge FreunTinnen und FreunTeâ€œ" },
  { author: "VizeprÃ¤sident Ottie", quote: "â€žEckoissmusâ€œ" },
  { author: "VizeprÃ¤sident Ottie", quote: "â€žKohle Und Stahlâ€¦ warum kohle und stahlâ€¦ was sind die gemeinsamkeiten VON KOHLE UND STAHLLLL ?â€œ" },
  { author: "VizeprÃ¤sident Ottie", quote: "â€žÃ„eiruppa Parlamenttâ€œ" },
  { author: "VizeprÃ¤sident Ottie", quote: "â€žNicht jeder muss gleich seinâ€œ" },
  { author: "VizeprÃ¤sident Ottie", quote: "â€žEs ist...bleibt...ist...hier eine Stopppptaffelâ€œ" },
  { author: "VizeprÃ¤sident Ottie", quote: "â€žVom Ã–sterreichischen Bildungssystem...da kann man nur sagen...das is bei allen schwÃ¤chen eines der schwÃ¤chstenâ€œ" },

  { author: "Degel", quote: "â€žDen Dreck- Deck- Dreck- Dr- Dreckel ahhh ehhh DECKEL. Hergott Naâ€œ" },
  { author: "Degel", quote: "â€žI will ma so a KinesenkostÃ¼m kaufenâ€œ" },
  { author: "Degel", quote: "â€žIhr Spastisâ€œ" },
  { author: "Degel", quote: "â€žDes braune do ignorieren wir, des is kimma eh wegschmeissenâ€œ" },
  { author: "Degel", quote: "â€žwir schwule schauen dann auch nochmal drÃ¼ber â€ž" },

  { author: "Butterfinger", quote: "â€žDie wahl is ungÃ¼ltig, weil erstens die fpÃ¶ gewÃ¤hlt wird. Und zweitens dann auch noch eine Vorzugsstimme bei der Ã–VP abgegeben wurdeâ€œ" },
  { author: "Butterfinger", quote: "â€ždas leben ist kein feuchter furzâ€œ" },

  { author: "Ambros", quote: "â€žDo gibts an Fachausdruck dafir, der fongt mit G an und endet mit N, GSCHISSN\" *agressives wisch wisch *â€œ" },
  { author: "Ambros", quote: "â€žSAKRAMENT NURMOIâ€œ" },

  { author: "KINC", quote: "â€žich verhÃ¼- ich hÃ¼te michâ€œ" },
  { author: "KINC", quote: "â€žer muas spÃ¤t entschieden hobn dass er krank isâ€œ" },
  { author: "KINC", quote: "â€žWir verkaufen und produzieren ein NussmÃ¼sli, und wir wollen ein NussmÃ¼sli produzieren und verkaufen â€ž" },
  { author: "KINC", quote: "â€žspauchdreiseldrÃ¼seâ€œ" }
];

/* --- Hilfsfunktionen --- */
function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}
function uniqueAuthors(){
  return Array.from(new Set(data.map(d=>d.author)));
}

/* --- Spielzustand --- */
const TOTAL_ROUNDS = 5;
let round = 0;
let score = 0;
let usedQuotes = new Set();
let current = null; // {author, quote}
let availableQuotes = data.slice(); // remaining quotes to pick from

/* --- DOM Referenzen --- */
const quoteText = document.getElementById('quoteText');
const namesList = document.getElementById('namesList');
const dropZone = document.getElementById('dropZone');
const roundBadge = document.getElementById('roundBadge');
const scoreBadge = document.getElementById('scoreBadge');
const skipBtn = document.getElementById('skipBtn');
const newGameBtn = document.getElementById('newGameBtn');
const resultOverlay = document.getElementById('resultOverlay');
const resultTitle = document.getElementById('resultTitle');
const resultScore = document.getElementById('resultScore');
const playAgainBtn = document.getElementById('playAgainBtn');

/* --- Drag & Drop handlers --- */
function onDragStart(e){
  e.dataTransfer.setData('text/plain', e.target.dataset.author);
  requestAnimationFrame(()=> e.target.classList.add('dragging'));
}
function onDragEnd(e){
  e.target.classList.remove('dragging');
}

dropZone.addEventListener('dragover', (e) => {
  e.preventDefault();
  dropZone.style.borderColor = 'rgba(255,255,255,0.12)';
});
dropZone.addEventListener('dragleave', () => {
  dropZone.style.borderColor = 'rgba(255,255,255,0.06)';
});

dropZone.addEventListener('drop', (e) => {
  e.preventDefault();
  dropZone.style.borderColor = 'rgba(255,255,255,0.06)';
  const droppedAuthor = e.dataTransfer.getData('text/plain');
  handleGuess(droppedAuthor);
});

/* --- Spiel-Logik --- */
function startGame(){
  round = 0;
  score = 0;
  usedQuotes.clear();
  availableQuotes = data.slice();
  updateUI();
  nextRound();
}

function updateUI(){
  roundBadge.textContent = `Runde ${Math.min(round+1, TOTAL_ROUNDS)} / ${TOTAL_ROUNDS}`;
  scoreBadge.textContent = `Punkte ${score}`;
}

function pickQuote(){
  if(availableQuotes.length === 0){
    // refill if accidentally empty (shouldn't normally happen)
    availableQuotes = data.filter(d => !usedQuotes.has(d.quote));
    if(availableQuotes.length === 0){
      availableQuotes = data.slice();
    }
  }
  shuffle(availableQuotes);
  const q = availableQuotes.pop();
  usedQuotes.add(q.quote);
  return q;
}

function nextRound(){
  if(round >= TOTAL_ROUNDS){
    endGame();
    return;
  }
  current = pickQuote();
  renderCurrent();
  renderNames();
  updateUI();
  // Note: round is incremented after user answers (so it starts at 0)
}

function renderCurrent(){
  quoteText.textContent = current.quote;
  dropZone.textContent = 'Ziehe hier den Namen hin';
  dropZone.classList.remove('correct','wrong');
  // make sure no leftover name highlights
  document.querySelectorAll('.name-card').forEach(n=> n.classList.remove('correct','wrong'));
}

function renderNames(){
  // pick correct author + 3 random other authors
  const authors = uniqueAuthors().filter(a => a !== current.author);
  shuffle(authors);
  const options = [current.author, ...authors.slice(0,3)];
  shuffle(options);
  namesList.innerHTML = '';
  for(const a of options){
    const card = document.createElement('div');
    card.className = 'name-card';
    card.draggable = true;
    card.dataset.author = a;
    card.textContent = a;
    card.addEventListener('dragstart', onDragStart);
    card.addEventListener('dragend', onDragEnd);
    namesList.appendChild(card);
  }
}

function markCorrectCard(author){
  const cards = Array.from(document.querySelectorAll('.name-card'));
  const c = cards.find(x => x.dataset.author === author);
  if(c) c.classList.add('correct');
}

function markWrongCard(author){
  const cards = Array.from(document.querySelectorAll('.name-card'));
  const c = cards.find(x => x.dataset.author === author);
  if(c) c.classList.add('wrong');
}

function handleGuess(author){
  // disable further drops until next round
  const drop = dropZone;
  drop.style.pointerEvents = 'none';
  const isCorrect = (author === current.author);
  if(isCorrect){
    score++;
    drop.classList.add('correct');
    drop.textContent = `Richtig â€” ${current.author}`;
    markCorrectCard(author);
  } else {
    drop.classList.add('wrong');
    drop.textContent = `Falsch â€” richtig wÃ¤re: ${current.author}`;
    markWrongCard(author);
     const overlay = document.getElementById("wrongImageOverlay");
    overlay.style.visibility = "visible";
    overlay.style.opacity = "1";
    setTimeout(() => {
      overlay.style.opacity = "0";
      overlay.style.visibility = "hidden";
    }, 900);
  }
  updateUI();

  // increase round count (this attempt consumes one round)
  round++;
  // small delay damit Benutzer Ergebnis sieht, dann nÃ¤chste Runde oder Ende
  setTimeout(() => {
    drop.style.pointerEvents = 'auto';
    if(round >= TOTAL_ROUNDS){
      endGame();
    } else {
      nextRound();
    }
  }, 900);
}

function skipQuote(){
  // Do not increment round; pick a new quote (not used yet)
  if(usedQuotes.size >= data.length){
    // all used -> allow reset of used set except current one
    usedQuotes = new Set([current.quote]);
    availableQuotes = data.filter(d => !usedQuotes.has(d.quote));
  }
  current = pickQuote();
  renderCurrent();
  renderNames();
}

/* --- Endgame --- */
function endGame(){
  resultTitle.textContent = 'Spiel beendet';
  resultScore.textContent = `Erreicht: ${score} / ${TOTAL_ROUNDS}`;
  resultOverlay.classList.add('show');
}

/* --- Events --- */
skipBtn.addEventListener('click', () => {
  skipQuote();
});

newGameBtn.addEventListener('click', () => {
  startGame();
});

playAgainBtn.addEventListener('click', () => {
  resultOverlay.classList.remove('show');
  startGame();
});

/* --- Initialisierung --- */
startGame();
</script>
</body>
</html>
    
  </body>
  
</html>
